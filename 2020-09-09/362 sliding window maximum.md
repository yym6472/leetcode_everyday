## 题意

- 链接：[https://www.lintcode.com/problem/sliding-window-maximum/description](https://www.lintcode.com/problem/sliding-window-maximum/description)

题意为：给定一个可能包含重复元素的数组，以及一个滑动窗口的大小`k`，要求滑动窗口从最左边滑倒最右边时，滑动窗口内的最大值。

## 题解

暴力的做法可以在`O(nk)`时间复杂度内完成，显然这道题需要`O(n)`复杂度的解法。因此每次滑动窗口的时候，需要在平均`O(1)`时间复杂度内求出窗口内最大值。

每次滑动窗口时，当前窗口右边的第一个值加入，同时最左边一个值被弹出。

这里的核心想法是：每当右边一个值加入的时候，**该值左边所有比其小的值都不再可能成为最大值**，因而也就失去了维护的价值。

所以只需要维护一个单调递减的序列，每次移动滑动窗口的时候：
- 一方面检测序列最左边的数是否被移出了当前窗口，若移出，则移出这个数（左边弹出）；
- 另一方面，从序列最右边依次弹出比新加入的数小的所有数（右边弹出），然后将新的数从右边加入（右边加入）。

可以看到，满足上述操作要求的数据结构是双向链表。因此使用双向链表维护上述序列即可。